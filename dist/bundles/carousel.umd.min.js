!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e((t.ng=t.ng||{},t.ng.carousel=t.ng.carousel||{}),t.ng.core,t._angular_common)}(this,function(t,e,s){"use strict";var i=function(){function t(t,s){this.el=t,this.renderer=s,this.hammerInitialized=!0,this.carouselLoad=new e.EventEmitter,this.Arr=Array,this.currentSlide=0,this.data={type:"fixed",classText:"",items:0,load:0,deviceWidth:0,carouselWidth:0,width:0,pointNumbers:0,visibleItems:0,slideItems:0,itemWidthPer:0,transform:{xs:0,sm:0,md:0,lg:0,all:0},loop:!1,dexVal:0,touchTransform:0,touch:{swipe:"",velocity:0},isEnd:!1}}return t.prototype.ngOnInit=function(){var t=this;this.carousel=this.el.nativeElement.getElementsByClassName("som")[0],this.carouselMain=this.carousel.getElementsByClassName("ngxcarousel")[0],this.carouselInner=this.carousel.getElementsByClassName("ngxcarousel-items")[0],this.carouselItems=this.carouselInner.getElementsByClassName("item"),this.data.type=0!==this.inputs.grid.all?"fixed":"responsive",this.carouselSize(),"mobile"===this.inputs.type&&this.renderer.listen(this.carouselInner,"onscroll",function(){t.scrollStart()}),this.carouselInterval(),this.onWindowScrolling()},t.prototype.ngOnChanges=function(t){t.inputsLength&&(this.data.isEnd=!1,this.carouselPoint())},t.prototype.ngAfterViewInit=function(){var t=document.createElement("style");this.renderer.appendChild(this.carouselInner,t),this.carouselPoint(),this.touch(),this.storeResData()},t.prototype.onResizing=function(t){var e=this;clearTimeout(this.onResize),this.onResize=setTimeout(function(){e.data.deviceWidth!==t.target.outerWidth&&e.storeResData()},500)},t.prototype.ontouching=function(t){var e=t.srcElement.classList;e.contains("rightRs")?this.carouselScroll(1):e.contains("leftRs")&&this.carouselScroll(0)},t.prototype.touch=function(){var t=this,e=new Hammer(this.carouselInner);e.get("swipe").set({direction:Hammer.DIRECTION_HORIZONTAL}),e.on("panstart",function(e){t.data.carouselWidth=t.carouselInner.offsetWidth,t.data.touchTransform="xs"===t.data.deviceType?t.data.transform.xs:"sm"===t.data.deviceType?t.data.transform.sm:"md"===t.data.deviceType?t.data.transform.md:"lg"===t.data.deviceType?t.data.transform.lg:t.data.transform.all,t.data.dexVal=0,t.renderer.setStyle(t.carouselInner,"transition","")}),e.on("panleft",function(e){t.touchGues("panleft",e.deltaX)}),e.on("panright",function(e){t.touchGues("panright",e.deltaX)}),e.on("panend",function(e){console.log(e.velocity),t.renderer.setStyle(t.carouselInner,"transform",""),t.data.touch.velocity=e.velocity,"panright"===t.data.touch.swipe?t.carouselScroll(0):t.carouselScroll(1)})},t.prototype.touchGues=function(t,e){var s=Math.abs(e)-this.data.dexVal;s="responsive"===this.data.type?Math.abs(Math.abs(e)-this.data.dexVal)/this.data.carouselWidth*100:s,this.data.dexVal=Math.abs(e),this.data.touch.swipe=t,this.data.touchTransform="panleft"===t?s+this.data.touchTransform:this.data.touchTransform-s,this.data.touchTransform>0?this.renderer.setStyle(this.carouselInner,"transform","responsive"===this.data.type?"translate3d(-"+this.data.touchTransform+"%, 0px, 0px)":"translate3d(-"+this.data.touchTransform+"px, 0px, 0px)"):this.data.touchTransform=0},t.prototype.onWindowScrolling=function(){var t=this.carousel.offsetTop,e=window.scrollY,s=window.innerHeight,i=this.carousel.offsetHeight;t<=e+s-i/4&&t+i/2>=e?this.renderer.removeClass(this.el.nativeElement,"ngxcarouselScrolled"):this.renderer.addClass(this.el.nativeElement,"ngxcarouselScrolled")},t.prototype.scrollStart=function(){var t=this;clearTimeout(this.itemPosition),this.itemPosition=setTimeout(function(){t.currentSlide=Math.round(t.carouselInner.scrollLeft/t.data.width),t.carouselLoad1(),t.carouselPointActive()},200)},t.prototype.storeResData=function(){this.data.deviceWidth=window.innerWidth,this.data.carouselWidth=this.carouselMain.offsetWidth,"responsive"===this.data.type?(this.data.deviceType=this.data.deviceWidth>=1200?"lg":this.data.deviceWidth>=992?"md":this.data.deviceWidth>=768?"sm":"xs",this.data.items=+(this.data.deviceWidth>=1200?this.inputs.grid.lg:this.data.deviceWidth>=992?this.inputs.grid.md:this.data.deviceWidth>=768?this.inputs.grid.sm:this.inputs.grid.xs),this.data.width=this.data.carouselWidth/this.data.items):(this.data.items=Math.floor(this.data.deviceWidth/this.inputs.grid.all),this.data.width=this.inputs.grid.all),this.data.slideItems=+(this.inputs.slide<this.data.items?this.inputs.slide:this.data.items),this.data.load=this.inputs.load>=this.data.slideItems?this.inputs.load:this.data.slideItems,this.inputs.speed=+(this.inputs.speed?this.inputs.speed:400),"mobile"===this.inputs.type&&(this.data.deviceWidth<=767?(this.renderer.addClass(this.carousel,"ngxcarouselMobiled"),this.renderer.setStyle(this.carouselInner,"transform","translate3d(0px, 0px, 0px)"),this.carouselInner.scrollLeft=+this.currentSlide*this.data.width):this.renderer.removeClass(this.carousel,"ngxcarouselMobiled"))},t.prototype.carouselPoint=function(){var t=this;if(0===this.data.slideItems)setTimeout(function(){t.carouselPoint()},10);else if(!0===this.inputs.point){var e=!0===this.inputs.dynamicLength?this.inputsLength:this.carouselItems.length-(this.data.items-this.data.slideItems);this.data.pointNumbers=Math.ceil(e/this.data.slideItems),this.carouselPointActive()}},t.prototype.carouselPointActive=function(){var t=this.carousel.querySelectorAll(".ngxcarouselPoint li");if(0!==t.length){for(var e=Math.ceil(this.currentSlide/this.data.slideItems),s=0;s<t.length;s++)this.renderer.removeClass(t[s],"active");this.renderer.addClass(t[e],"active")}},t.prototype.carouselSize=function(){this.data.classText="ResSlid"+this.makeid();var t="",e="",s="."+this.data.classText;t+=s+" .ngxcarousel-items .item {display: inline-block;white-space: initial;vertical-align: top;} .leftRs {position: absolute;margin: auto;top: 0;bottom: 0;left: 0;width: 50px;height: 50px;box-shadow: 1px 2px 10px -1px rgba(0, 0, 0, .3);border-radius: 999px;}.rightRs {position: absolute; margin: auto; top: 0; right: 0; bottom: 0; width: 50px;height: 50px; box-shadow: 1px 2px 10px -1px rgba(0, 0, 0, .3);border-radius: 999px;}","banner"===this.inputs.custom&&this.renderer.addClass(this.carousel,"banner"),"tile"===this.inputs.custom&&(t+="."+this.data.classText+" .tile {box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);margin: 5px;}"),"lazy"===this.inputs.animation&&(t+="."+this.data.classText+" .item {transition: transform .6s ease;}"),"mobile"===this.inputs.type&&(e=s+" .ngxcarousel-items {overflow-x: auto !important;}\n                        "+s+" .leftRs, "+s+" .rightRs { display: none }");var i="";i="responsive"===this.data.type?"@media (max-width:767px){"+e+("mobile"===this.inputs.type?s+" .item {width: "+95/this.inputs.grid.xs+"%}":s+" .item {width: "+100/this.inputs.grid.xs+"%}")+" "+s+" .leftRs, "+s+" .rightRs { display: none }}\n                    @media (min-width:768px){"+(s+" .item {width: "+100/this.inputs.grid.sm+"%}")+"}\n                    @media (min-width:992px){"+(s+" .item {width: "+100/this.inputs.grid.md+"%}")+"}\n                    @media (min-width:1200px){"+(s+" .item {width: "+100/this.inputs.grid.lg+"%}")+"}":s+" .item {width: "+this.inputs.grid.all+"px}\n                  @media (max-width:767px){"+e+" "+s+" .leftRs, "+s+" .rightRs { display: none }}",this.renderer.addClass(this.carousel,this.data.classText);var a=document.createElement("style");a.innerHTML=t+" "+i,this.renderer.appendChild(this.carousel,a)},t.prototype.carouselScroll=function(t){var e=this.inputs.speed,s=0,i=!0===this.inputs.dynamicLength?this.inputsLength:this.carouselItems.length,a=Math.ceil(this.data.dexVal/this.data.width);if(this.renderer.setStyle(this.carouselInner,"transform",""),0===t){var n=this.currentSlide-this.data.slideItems+this.data.slideItems;if(this.data.isEnd=!1,0===this.currentSlide){if(this.data.loop)return!1;s=i-this.data.items,e=400,this.data.isEnd=!0}else this.data.slideItems>=n?s=0:a>this.data.slideItems?(s=this.currentSlide-a,e=200):s=this.currentSlide-this.data.slideItems}else if(i<=this.currentSlide+this.data.items+this.data.slideItems&&!this.data.isEnd)s=i-this.data.items,this.data.isEnd=!0;else if(this.data.isEnd){if(this.data.loop)return!1;s=0,e=400,this.data.isEnd=!1}else this.data.isEnd=!1,a>this.data.slideItems?(s=this.currentSlide+this.data.slideItems+(a-this.data.slideItems),e=200):s=this.currentSlide+this.data.slideItems;if("lazy"===this.inputs.animation&&this.carouselAnimator(t,s+1,s+this.data.items,e,Math.abs(this.currentSlide-s)),0===this.data.dexVal){var r=.5,o=.5;this.renderer.setStyle(this.carouselInner,"transition","transform "+e+"ms cubic-bezier("+r+", "+o+", 0.54, 1.13)")}else{var l=Math.abs(this.data.touch.velocity),r=.7/l<.5?.7/l:.5,o=2.9*l/10<1.3?2.9*l/10:1.3,d=Math.floor(this.data.dexVal/l/this.data.dexVal*(this.data.deviceWidth-this.data.dexVal));e=(d=d>e?e:d)<200?200:d,this.renderer.setStyle(this.carouselInner,"transition","transform "+e+"ms cubic-bezier("+r+", "+o+", 0.54, 1.13)"),this.data.dexVal=0}this.transformStyle(s),this.currentSlide=s,this.carouselPointActive(),this.carouselLoad1()},t.prototype.transformStyle=function(t){var e="";"responsive"===this.data.type?(this.data.transform.xs=100/this.inputs.grid.xs*t,this.data.transform.sm=100/this.inputs.grid.sm*t,this.data.transform.md=100/this.inputs.grid.md*t,this.data.transform.lg=100/this.inputs.grid.lg*t,e="@media (max-width: 767px) {\n              ."+this.data.classText+" .ngxcarousel-items { transform: translate3d(-"+this.data.transform.xs+"%, 0, 0); } }\n            @media (min-width: 768px) {\n              ."+this.data.classText+" .ngxcarousel-items { transform: translate3d(-"+this.data.transform.sm+"%, 0, 0); } }\n            @media (min-width: 992px) {\n              ."+this.data.classText+" .ngxcarousel-items { transform: translate3d(-"+this.data.transform.md+"%, 0, 0); } }\n            @media (min-width: 1200px) {\n              ."+this.data.classText+" .ngxcarousel-items { transform: translate3d(-"+this.data.transform.lg+"%, 0, 0); } }"):(this.data.transform.all=this.inputs.grid.all*t,e="."+this.data.classText+" .ngxcarousel-items { transform: translate3d(-"+this.data.transform.all+"px, 0, 0);"),this.carouselInner.querySelectorAll("style")[0].innerHTML=e},t.prototype.carouselLoad1=function(){""!==this.inputs.load&&this.carouselItems.length-this.data.load<=this.currentSlide+this.data.items&&this.carouselLoad.emit(this.currentSlide)},t.prototype.makeid=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<6;s++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},t.prototype.carouselInterval=function(){var t=this;"number"==typeof this.inputs.interval&&(this.renderer.listen(this.carouselMain,"touchstart",function(){t.renderer.addClass(t.carousel,"ngxcarouselTouched"),t.pauseinterval()}),this.renderer.listen(this.carouselMain,"touchend",function(){t.renderer.removeClass(t.carousel,"ngxcarouselTouched"),t.pauseinterval()}),this.renderer.listen(this.carouselMain,"mouseenter",function(){t.renderer.addClass(t.carousel,"ngxcarouselHovered"),t.pauseinterval()}),this.renderer.listen(this.carouselMain,"mouseleave",function(){t.renderer.removeClass(t.carousel,"ngxcarouselHovered"),t.pauseinterval()}),this.renderer.listen("window","scroll",function(){clearTimeout(t.onScrolling),t.onScrolling=setTimeout(function(){t.onWindowScrolling()},600)}),this.carouselInt=setInterval(function(){!t.carousel.classList.contains("ngxcarouselHovered")&&!t.carousel.classList.contains("pauseInterval")&&!t.carousel.classList.contains("ngxcarouselTouched")&&!t.carousel.classList.contains("ngxcarouselScrolled")&&!t.carousel.classList.contains("ngxcarouselMobiled")&&t.carouselScroll(1)},this.inputs.interval))},t.prototype.pauseinterval=function(){var t=this;this.renderer.addClass(this.carousel,"pauseInterval"),clearTimeout(this.pauseInterval),this.pauseInterval=setTimeout(function(){t.renderer.removeClass(t.carousel,"pauseInterval")},4e3)},t.prototype.carouselAnimator=function(t,e,s,i,a){var n=this,r=a<5?a:5;if(r=1===r?3:r,1===t)for(o=e-1;o<s;o++)r*=2,this.renderer.setStyle(this.carouselItems[o],"transform","translateX("+r+"px)");else for(var o=s-1;o>=e-1;o--)r*=2,this.renderer.setStyle(this.carouselItems[o],"transform","translateX(-"+r+"px)");setTimeout(function(){for(var t=e-1;t<s;t++)n.renderer.setStyle(n.carouselItems[t],"transform","translateX(0px)")},.7*i)},t}();i.decorators=[{type:e.Component,args:[{selector:"ngx-carousel",template:'\n    <div class="som">\n      <div class="ngxcarousel banner">\n          <div class="ngxcarousel-inner">\n              <div #firstDiv class="ngxcarousel-items">\n                  <ng-content select=".item"></ng-content>\n              </div>\n              <div style="clear: both"></div>\n          </div>\n          <ng-content select=".leftRs" class="leftRs"></ng-content>\n          <ng-content select=".rightRs" class="rightRs"></ng-content>\n      </div>\n      <div class="ngxcarouselPoint" *ngIf="inputs.point">\n          <ul>\n              <li *ngFor="let i of Arr(data.pointNumbers).fill(1)"></li>\n          </ul>\n      </div>\n    </div>\n  ',styles:["\n    .som {\n        width: 100%;\n        position: relative;\n    }\n\n    .ngxcarousel {\n        width: 100%;\n        position: relative;\n    }\n\n    .ngxcarousel-inner {\n        position: relative;\n        overflow: hidden;\n    }\n\n    .ngxcarousel-items {\n        white-space: nowrap;\n        position: relative;\n    }\n\n    .item {\n        display: inline-block;\n        white-space: initial;\n    }\n\n    .tile {\n        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n        margin: 5px;\n    }\n\n    .leftRs {\n        position: absolute;\n        margin: auto;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        width: 50px;\n        height: 50px;\n        box-shadow: 1px 2px 10px -1px rgba(0, 0, 0, .3);\n        border-radius: 999px;\n    }\n\n    .rightRs {\n        position: absolute;\n        margin: auto;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        width: 50px;\n        height: 50px;\n        box-shadow: 1px 2px 10px -1px rgba(0, 0, 0, .3);\n        border-radius: 999px;\n    }\n\n    .banner .ngxcarouselPoint {\n        position: absolute;\n        width: 100%;\n        bottom: 20px;\n    }\n\n    .banner .ngxcarouselPoint li {\n        background: rgba(255, 255, 255, 0.55);\n    }\n\n    .banner .ngxcarouselPoint li.active {\n        background: white;\n    }\n\n    .ngxcarouselPoint ul {\n        list-style-type: none;\n        text-align: center;\n        padding: 12px;\n        margin: 0;\n        white-space: nowrap;\n        overflow: auto;\n    }\n\n    .ngxcarouselPoint ul li {\n        display: inline-block;\n        border-radius: 50%;\n        background: rgba(0, 0, 0, 0.55);\n        padding: 4px;\n        margin: 0 4px;\n        transition-timing-function: cubic-bezier(.17, .67, .83, .67);\n        transition: .4s;\n    }\n\n    .ngxcarouselPoint ul li.active {\n        background: #6b6b6b;\n        transform: scale(1.8);\n    }\n  "]}]}],i.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},i.propDecorators={inputs:[{type:e.Input}],inputsLength:[{type:e.Input}],carouselInp:[{type:e.Output}],carouselLoad:[{type:e.Output}],onResizing:[{type:e.HostListener,args:["window:resize",["$event"]]}],ontouching:[{type:e.HostListener,args:["click",["$event"]]}]};var a=function(){return function(){}}();a.decorators=[{type:e.NgModule,args:[{declarations:[i],exports:[i],imports:[s.CommonModule]}]}],a.ctorParameters=function(){return[]};var n=function(){return function(){}}();t.CarouselModule=a,t.Carousel=n,Object.defineProperty(t,"__esModule",{value:!0})});